<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>TournamentSystem</title>

	<link rel="stylesheet" href="./css/toastr.min.css">
	<link rel="stylesheet" href="./css/jquery-confirm.min.css">
	<link rel="stylesheet" href="./css/global.css">
	<link rel="stylesheet" href="./css/app.css">
	<link rel="stylesheet" href="./css/cat.css">

	<script>
		const THEME_DIR = "./css/themes/";
	</script>

	<script src="./js/jquery-3.6.0.min.js"></script>
	<script src="./js/jquery-confirm.min.js"></script>
	<script src="./js/popper.min.js"></script>
	<script src="./js/toastr.min.js"></script>
	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/utils.js"></script>
	<script src="./js/app.js"></script>
	<script src="./js/theme/themes.js"></script>
	<script src="./js/theme/theme-manager.js"></script>
	<script src="./js/cat.js"></script>
</head>

<body class="">
	<div id="fixed_bg"></div>
	<div id="main">
		<nav class="navbar navbar-dark bg-dark navbar-expand-lg">
			<div class="container-fluid">
				<a class="navbar-brand" href="#">
					TournamentSystem
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText"
					aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarText">
					<ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
						<li class="nav-item">
							<a href="#" class="select-theme-button nav-link">Theme</a>
						</li>

						<li class="nav-item">
							<a href="/app/editor/" target="_blank" class="nav-link">Team editor</a>
						</li>

						<li class="nav-item">
							<a href="/app/commentator/" target="_blank" class="nav-link">Commentator</a>
						</li>
						
						<li class="nav-item">
							<a href="#" class="nav-link btn_broadcast">Broadcast message</a>
						</li>

						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="navbarSettingsDropdown" role="button"
								data-bs-toggle="dropdown" aria-expanded="false">
								Settings
							</a>
							<ul class="dropdown-menu" aria-labelledby="navbarSettingsDropdown">
								<li>
									<a class="dropdown-item set-tournament-name" href="#">Set tournament name</a>
								</li>
								<li>
									<a class="dropdown-item set-scoreboard-url" href="#">Set scoreboard link</a>
								</li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li>
									<a class="dropdown-item text-danger btn-reset-data" href="#">Reset data</a>
								</li>
								<li>
									<a class="dropdown-item text-danger btn-logout" href="#">Logout</a>
								</li>
							</ul>
						</li>

						<li class="nav-item">
							<a class="nav-link" href="/phpmyadmin" target="blank">PHPMyAdmin</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<ul class="nav nav-tabs mt-2 mx-2">
			<li class="nav-item">
				<a class="nav-link page-link active" data-page="overview_page" href="#">Overview</a>
			</li>
			<li class="nav-item">
				<a class="nav-link page-link" data-page="staff_page" href="#">Staff settings</a>
			</li>
			<li class="nav-item">
				<a class="nav-link page-link" data-page="whitelist_page" href="#">Whitelist</a>
			</li>
			<li class="nav-item">
				<a class="nav-link page-link" data-page="support_page" href="#">Support</a>
			</li>
		</ul>

		<div id="staff_page" class="nav-page d-none">
			<div class="container-fluid">
				<div class="row">
					<div class="col">
						<table class="table table-striped table-border">
							<thead>
								<tr>
									<th class="t-fit"></th>
									<th>UUID</th>
									<th>Username</th>
									<th>Role</th>
									<th class="t-fit"></th>
								</tr>
							</thead>

							<tbody class="d-none">
								<tr id="staff_team_tr_template">
									<td>
										<img src="https://mc-heads.net/avatar/606e2ff0-ed77-4842-9d6c-e1d3321c7838"
											class="staff-avatar" width="32" height="32" alt="">
									</td>
									<td class="staff-uuid"></td>
									<td class="staff-name"></td>
									<td class="staff-roles-td">
										<select class="staff-role-selector form-select">
										</select>
									</td>
									<td>
										<button class="btn btn-danger btn-remove-staff">Remove</button>
									</td>
								</tr>
							</tbody>

							<tbody id="staff_tbody"></tbody>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col mt-1">
						<button class="btn btn-primary" id="btn_open_add_staff_modal">Add user</button>
						<p>
							This page does not update live. Please reload the page before making changes to the
							staff
							team
						</p>
						<h3>Permissions</h3>
						<ul class="list-group">
							<li class="list-group-item">Host have access to everything</li>
							<li class="list-group-item">Staff have access to everything</li>
							<li class="list-group-item">Helpers only have the helper prefix</li>
							<li class="list-group-item">Moderators can kick, ban and mute players</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div id="overview_page" class="nav-page">
			<div class="container-fluid">
				<div class="row">
					<div>
						<div id="bongo_cat" class="bongo_cat">
							<img src="./img/cat-bongo.gif" id="bongo_cat_img">
						</div>
						<table class="table table-striped table-border border">
							<thead>
								<tr>
									<th class="t-fit"></th>
									<th>UUID</th>
									<th>Username</th>
									<th>Score</th>
									<th>Kills</th>
									<th>Team</th>
									<th>Team Score</th>
									<th>Online</th>
									<th>Ping</th>
									<th>Server</th>
									<th class="player-options-th">
										<!-- Options -->
									</th>
								</tr>
							</thead>

							<tbody class="d-none">
								<tr id="player_tr_template" data-uuid="00000000-0000-0000-0000-000000000000">
									<td class="player-head-preview">
										<img src="https://mc-heads.net/avatar/606e2ff0-ed77-4842-9d6c-e1d3321c7838"
											class="player-avatar" width="32" height="32" alt="">
									</td>
									<td class="player-uuid"></td>
									<td class="player-name"></td>
									<td class="player-score"></td>
									<td class="player-kills"></td>
									<td class="player-team"></td>
									<td class="player-team-score"></td>
									<td class="player-online">
										<span class="badge bg-success online-badge">Online</span>
										<span class="badge bg-danger offline-badge">Offline</span>
									</td>
									<td class="player-ping"></td>
									<td class="player-server"></td>
									<td>
										<button class="btn btn-primary player-send-to">Send to</button>
									</td>
								</tr>
							</tbody>

							<tbody id="player_tbody"></tbody>
						</table>

						<div id="game_controlls">
							<button type="button" class="btn btn-danger bongo_cat" id="no_more_cats">Disable cat</button>
							<a href="#" class="btn_broadcast btn btn-info">Broadcast message</a>
							<button type="button" id="btn_send_all_players_to" class="btn btn-primary">Send all
								to</button>
							<button type="button" class="btn-start-game btn btn-success ml-2">Start game</button>
							<button type="button" id="btn_export_summary" class="btn btn-info ml-2">Export
								summary</button>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<div class="mt-2 mx-2">
						<h5>License</h5>
						<p>
							Status: <span class="license-status"></span><br>
							Licensed to: <span class="licensed-to">None</span><br>
							Expires at: <span class="licensed-expires">?</span><br>
						</p>

						<h5>System stats</h5>
						<p>
							Player count: <span id="stats_player_count"></span><br>
							Average player ping: <span id="stats_avg_ping"></span><br>
							Server software: <span id="stats_software"></span><br>
							Host cores: <span id="stats_cores"></span><br>
							Host OS: <span id="stats_os"></span><br>
							Tournament name: <span id="stats_torurnament_name"></span><br>
							Scoreboard link: <span id="stats_scoreboard_link"></span><br>
						</p>
					</div>
				</div>
			</div>
		</div>

		<div id="whitelist_page" class="nav-page d-none">
			<div class="container-fluid">
				<div class="row">
					<div class="col-12">
						<table class="table table-border table-striped">
							<thead>
								<tr>
									<th></th>
									<th>UUID</th>
									<th>Username</th>
									<th></th>
								</tr>
							</thead>

							<tbody class="d-none">
								<tr id="whitelist_tr_template" data-uuid="00000000-0000-0000-0000-000000000000">
									<td class="head-preview">
										<img src="https://mc-heads.net/avatar/606e2ff0-ed77-4842-9d6c-e1d3321c7838"
											class="player-avatar" width="32" height="32" alt="">
									</td>
									<td class="uuid"></td>
									<td class="name">Loading...</td>
									<td>
										<button class="btn btn-danger btn-whitelist-remove float-end">Remove</button>
									</td>
								</tr>
							</tbody>

							<tbody id="whitelist_entries"></tbody>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col-12">
						<button class="btn btn-success" id="add_whitelist">Add player</button>
						<button class="btn btn-danger float-end" id="clear_whitelist">Clear</button>
					</div>
				</div>
			</div>

		</div>

		<div id="support_page" class="nav-page d-none mt-4">
			<div class="container-fluid">
				<div class="row">
					<div class="col-12">
						<h4>Support</h4>
						<p>
							Join our discord server <a href="https://discord.gg/4gZSVJ7">https://discord.gg/4gZSVJ7</a>
							and open a ticket in the support section of our server to get help related to the tournament
							system.
						</p>
					</div>
				</div>
			</div>
		</div>

		<div class="push"></div>
	</div>

	<footer class="footer">
		<span>Developed by <a target="_blank" href="https://zeeraa.net">Zeeraa (Anton)</a> for <a target="_blank"
				href="https://novauniverse.net">NovaUniverse</a>. Skins provided by <a target="_blank"
				href="https://mc-heads.net">mc-heads.net</a></span>
	</footer>

	<!-- Background stuff thats not visible by default -->
	<div>
		<!-- Modals -->
		<div class="modal fade" id="add_staff_modal" tabindex="-1" aria-labelledby="addStaffTitle" aria-hidden="true"
			data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addStaffTitle">Add staff member</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form onsubmit="return false;">
							<div class="form-group">
								<input type="text" id="tbx_add_staff_username" class="form-control" maxlength="16"
									placeholder="Username">
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_search_staff_user" class="btn btn-primary">Add</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="license_warning" tabindex="-1" aria-labelledby="licenseWarningTitle"
			aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="licenseWarningTitle">License warning</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p id="license_warning_body"></p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="add_whitelist_modal" tabindex="-1" aria-labelledby="addWhitelistTitle"
			aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addWhitelistTitle">Add staff member</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form onsubmit="return false;">
							<div class="form-group">
								<input type="text" id="tbx_add_whitlelist_username" class="form-control" maxlength="16"
									placeholder="Username">
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_search_whitelist_user" class="btn btn-primary">Add</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="add_staff_role_modal" tabindex="-1" aria-labelledby="addStaffRoleTitle"
			aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addStaffRoleTitle">Select role</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>

					<div class="modal-body">
						<div class=container>
							<div class="row">
								<div class="col">
									<img id="add_staff_head" width="64" height="64"
										src="https://mc-heads.net/avatar/606e2ff0-ed77-4842-9d6c-e1d3321c7838" alt="">
								</div>
								<div class="col">
									<span id="add_staff_uuid">PLACEHOLDER</span>
								</div>
								<div class="col">
									<span id="add_staff_username">PLACEHOLDER</span>
								</div>
							</div>

							<div class="row mt-2">
								<div class="col-12">
									<form onsubmit="return false;">
										<div class="form-group">
											<select id="staff_role_selector" class="form-select">
											</select>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_add_staff_user" class="btn btn-primary">Add</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="set_tournament_name_modal" tabindex="-1" aria-labelledby="setTournamentNameTitle"
			aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="setTournamentNameTitle">Set tournament name</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form onsubmit="return false;">
							<div class="form-group">
								<input type="text" id="new_tournament_name" class="form-control" maxlength="28">
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_set_tournament_name" class="btn btn-primary">Set name</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="set_scoreboard_url_modal" tabindex="-1" aria-labelledby="setScoreboardUrlTitle"
			aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="setScoreboardUrlTitle">Set scoreboard url</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form onsubmit="return false;">
							<div class="form-group">
								<input type="text" id="new_scoreboard_url" class="form-control" maxlength="38">
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_set_scoreboard_url" class="btn btn-primary">Set url</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="broadcast_modal" tabindex="-1" aria-labelledby="broadcastTitle" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="broadcastTitle">Broadcast message</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form onsubmit="return false;">
							<div class="form-group">
								<input type="text" id="broadcast_text_message" class="form-control">
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_broadcast" class="btn btn-primary">Send</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="broadcast_reset_data" tabindex="-1" aria-labelledby="resetDataTitle"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="resetDataTitle">Reset data</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p>Please confirm that you want to reset the tournament data</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_remove_playerdata" class="btn btn-danger">Remove player
							data</button>
						<button type="button" id="btn_full_reset" class="btn btn-danger">Full reset</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="select_server_modal" tabindex="-1" aria-labelledby="selectServerTitle"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="selectServerTitle">Select server</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<select class="form-select" id="select_server">

						</select>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" id="btn_select_server_send" class="btn btn-primary">Send</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="selectThemeModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
		aria-labelledby="selectThemeModalTitle" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="selectThemeModalTitle">Select theme</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<select class="form-select" id="theme-selector">
					</select>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script src="./js/preloader/preloader_settings.js" id="__tnPreloader_setOptions__"></script>
	<script src="./js/preloader/thenolle.preloader.min.js"></script>
</body>

</html>